(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{20067:function(){},72061:function(){},51096:function(e,t,a){Promise.resolve().then(a.bind(a,8675))},8675:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eO}});var l=a(57437),r=a(6235),s=a(2265),n=a(575),i=a(22782),o=a(12647),d=a(14323),c=a(56288);let u=()=>{let{setProcessed:e,setStage:t,stage:a,setTrainingFile:u,setLoading:h,trainingFile:m,setOriginalSheet:f,setTargets:p,loading:x,setCurrentSheet:g,setAnalysisSheet:b,setCorrelation1Sheet:j,setCorrelation2Sheet:y,setPredictionFile:v,setPredictionSheet:w,setAggregates:N,setAlgorithm:S,setTarget:k,setGranularity:C,setAggregator:F,setFrequency:_,setSelectedUniqueValues:O,setPredictionGraph:P,server:D}=(0,r.O)(),[T,A]=(0,s.useState)(!1);async function V(a){let{data:l,file_type:r}=a;h(!0);let s=new FormData;return s.append("data",l),s.append("file_type",r),fetch("".concat(D,"/GetData"),{method:"POST",body:s}).then(e=>e.json()).then(a=>{if(200===a.status)return"Train"===r&&(p(a.target_features),N(a.date_columns)),h(!1),e(!0),c.A.success("Data Processed Successfully"),t(2),1}).catch(e=>{console.error(e),h(!1)})}(0,s.useEffect)(()=>{m&&(alert("You Have Selected a File Of Size ".concat(Math.round(m.size/1048576*100)/100,"Mb, The Screen may freeze for a short time ")),m.arrayBuffer().then(e=>{let t=d.ij(e,{type:"binary",cellDates:!0}),a=t.SheetNames[0],l=t.Sheets[a],r=d.P6.sheet_to_json(l),s=Object.keys(r[0]).map(e=>({field:e,headerName:e,type:typeof r[0][e],width:100})),n=Object.prototype.hasOwnProperty;for(let e=0;e<r.length;e++){let t=r[e];for(let a in t.hadID=!0,n.call(t,"id")||(t.id=e,t.hadID=!1),t)if(n.call(t,a)&&t[a]instanceof Date){let e=t[a],l="".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear());t[a]=l}}f({headers:s,data:r}),g("Original"),h(!1),c.A.success("Table Loaded Successfully")}))},[g,h,f,m]);let z=()=>{A(!1),b(null),j(null),y(null),v(null),w(null),S(null),k(null),C(null),F(null),_(null),P(null)};return(0,l.jsxs)("div",{className:"".concat(1===a?"rounded-b-md":""," transition-all duration-300 border-t border-x border-b rounded-t-md p-2  bg-white/10 backdrop-blur-md border-white/10 relative z-0"),children:[(0,l.jsx)(o._,{children:"Choose File"}),(0,l.jsx)(i.I,{id:"fs",tabIndex:-1,className:" backdrop-blur-md bg-white/10 border-white/10 ",accept:".xls, .xlsx, .csv",type:"file",onClick:()=>{t(0),z()},onChange:e=>{var t;let a=e.target.files?e.target.files[0]:null;(null===(t=e.target.files)||void 0===t?void 0:t.length)===0&&h(!1),a&&(z(),u(a))}}),(0,l.jsx)(n.z,{onClick:()=>{null!==m&&(S(null),V({data:m,file_type:"Train"}),A(!0))},disabled:!m||x,className:"w-full mt-2",children:"Process"})]})};var h=a(78473),m=a(23441),f=a(85159),p=a(80037),x=a(22169);let g=h.fC;h.ZA;let b=h.B4,j=s.forwardRef((e,t)=>{let{className:a,children:r,...s}=e;return(0,l.jsxs)(h.xz,{ref:t,className:(0,x.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[r,(0,l.jsx)(h.JO,{asChild:!0,children:(0,l.jsx)(m.Z,{className:"h-4 w-4 opacity-50"})})]})});j.displayName=h.xz.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(h.u_,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,l.jsx)(f.Z,{className:"h-4 w-4"})})});y.displayName=h.u_.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(h.$G,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,l.jsx)(m.Z,{className:"h-4 w-4"})})});v.displayName=h.$G.displayName;let w=s.forwardRef((e,t)=>{let{className:a,children:r,position:s="popper",...n}=e;return(0,l.jsx)(h.h_,{children:(0,l.jsxs)(h.VY,{ref:t,className:(0,x.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...n,children:[(0,l.jsx)(y,{}),(0,l.jsx)(h.l_,{className:(0,x.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,l.jsx)(v,{})]})})});w.displayName=h.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(h.__,{ref:t,className:(0,x.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=h.__.displayName;let N=s.forwardRef((e,t)=>{let{className:a,children:r,...s}=e;return(0,l.jsxs)(h.ck,{ref:t,className:(0,x.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(h.wU,{children:(0,l.jsx)(p.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(h.eT,{children:r})]})});N.displayName=h.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(h.Z0,{ref:t,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=h.Z0.displayName;let S=e=>{let t=e;"string"==typeof e&&(t=JSON.parse(e.replace("NaN","null")));let a=t.schema.fields.filter(e=>e.type.toLowerCase().includes("date")).map(e=>e.name),l=t.schema.fields.filter(e=>e.type.toLowerCase().includes("integer")).map(e=>e.name);return{headers:t.schema.fields.map(e=>({minWidth:100,flex:1,field:e.name,headerName:e.name,type:e.type.replace("integer","number").replace("datetime","Date")})),data:t.data.map((e,t)=>{for(let l of(Object.hasOwn(e,"id")?e.hadID=!0:(e.id=t,e.hadID=!1),a)){let t=new Date(e[l]),a="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear());e[l]=a}for(let t of l)e[t]=null===e[t]?"N/A":e[t];return e})}},k=()=>{let[e,t]=(0,s.useState)(!1),{processed:a,stage:n,setStage:i,setAlgorithm:d,algorithm:c,loading:u,server:h,setAlgorithmPos:m}=(0,r.O)();return(0,s.useEffect)(()=>{null===c&&t(!1)},[c]),(0,l.jsxs)("div",{className:"rounded-b-md border-x border-b px-2 pb-2 transition-all  ease-in-out duration-300 relative -z-10  border-white/10 bg-white/10  backdrop-blur-md ",style:{opacity:a&&n>0?1:0,zIndex:a&&n>0?0:-10,pointerEvents:a&&n>0?"auto":"none"},children:[(0,l.jsx)(o._,{children:"Choose Algorithm"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsxs)(g,{value:c||"Select Algorithm",disabled:e||u,onValueChange:e=>{let t=new FormData;t.append("algorithm",e),fetch("".concat(h,"/Get_Algo_Position"),{method:"POST",body:t}).then(e=>{if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));return e.json()}).then(e=>{m(S(e.algo_results))}).catch(e=>{console.error("Error:",e.message)}),d(e),i(3)},children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10 ",children:(0,l.jsx)(b,{children:c||"Select Algorithm"})}),(0,l.jsxs)(w,{className:"bg-white/10 border-white/10 backdrop-blur-md",children:[(0,l.jsx)(N,{value:"Classification",children:"Classification"}),(0,l.jsx)(N,{value:"Regression",children:"Regression"}),(0,l.jsx)(N,{value:"Time Series",children:"Time Series"})]})]})})]})};var C=a(63124),F=a(28670),_=a(9208);let O=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(C.mY,{ref:t,className:(0,x.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r})});O.displayName=C.mY.displayName;let P=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,l.jsx)(F.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,l.jsx)(C.mY.Input,{ref:t,className:(0,x.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r})]})});P.displayName=C.mY.Input.displayName;let D=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(C.mY.List,{ref:t,className:(0,x.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r})});D.displayName=C.mY.List.displayName;let T=s.forwardRef((e,t)=>(0,l.jsx)(C.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));T.displayName=C.mY.Empty.displayName;let A=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(C.mY.Group,{ref:t,className:(0,x.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r})});A.displayName=C.mY.Group.displayName,s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(C.mY.Separator,{ref:t,className:(0,x.cn)("-mx-1 h-px bg-border",a),...r})}).displayName=C.mY.Separator.displayName;let V=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(C.mY.Item,{ref:t,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r})});V.displayName=C.mY.Item.displayName;var z=a(57427);let R=z.fC,Y=z.xz,q=s.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:s=4,...n}=e;return(0,l.jsx)(z.h_,{children:(0,l.jsx)(z.VY,{ref:t,align:r,sideOffset:s,className:(0,x.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});function E(){let{targets:e,target:t,setSelectedFeatures:a,selectedFeatures:i,setCorrelation1Sheet:o,setCorrelation2Sheet:d,setCurrentSheet:c,setAnalysisSheet:u,setPredictionSheet:h,loading:m}=(0,r.O)();return(0,s.useEffect)(()=>{o(null),d(null),c("Original"),u(null),h(null)},[i,u,o,d,c,h]),(0,s.useEffect)(()=>{t&&a([])},[a,t]),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)(R,{children:[(0,l.jsx)(Y,{asChild:!0,className:"w-full bg-white/10 border-white/10 hover:bg-sky-100/20",children:(0,l.jsx)(n.z,{disabled:m,className:"w-full  text-left  justify-start overflow-clip text-ellipsis",variant:"outline",children:0===i.length?"Select Features":"".concat(i?i.length:0," features selected")})}),(0,l.jsx)(q,{className:"w-56 bg-transparent border-none p-0.5",children:(0,l.jsxs)(O,{className:" bg-white/10 border-white/10 border backdrop-blur-xl ",children:[(0,l.jsx)(P,{className:"",placeholder:"Search..."}),(0,l.jsxs)(D,{className:"",children:[(0,l.jsx)(T,{children:"No results found."}),(0,l.jsx)(A,{heading:"Actions",children:(0,l.jsx)(V,{onSelect:()=>{a(i.length===e.length-1&&i.every(t=>e.includes(t))?[]:[...e.filter(e=>e!==t)])},children:i.length===e.length-1&&i.every(t=>e.includes(t))?"Deselect All":"Select All"})}),(0,l.jsx)(A,{heading:"Features",children:e.filter(e=>e!==t).map(e=>{let t=i.includes(e);return(0,l.jsxs)(V,{onSelect:()=>{a(i.includes(e)?i.filter(t=>t!==e):[...i,e])},children:[(0,l.jsx)(p.Z,{className:(0,x.cn)("mr-2 h-4 w-4",t?"opacity-100":"opacity-0")}),e]},e)})})]})]})})]})})}q.displayName=z.VY.displayName;var M=a(26579);let U=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsxs)(M.fC,{ref:t,className:(0,x.cn)("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,l.jsx)(M.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,l.jsx)(M.e6,{className:"absolute h-full bg-primary"})}),(0,l.jsx)(M.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});U.displayName=M.fC.displayName;let I=()=>{let{epochs:e,setEpochs:t,targets:a,setTarget:s,target:n,aggregates:d,aggregator:c,setAggregator:u,setFrequency:h,frequency:m,setPercentageAccuracy:f,percentageAccuracy:p,setGranularity:x,granularity:y,loading:v}=(0,r.O)(),S={D:"Daily",M:"Monthly",Q:"Quarterly",H:"Half-Yearly",Y:"Yearly"};return(0,l.jsxs)("div",{children:[(0,l.jsx)(o._,{children:"Select Target"}),(0,l.jsxs)(g,{value:null!==n?n:"",onValueChange:e=>s(e),disabled:null===a||v,children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10 ",children:(0,l.jsxs)(b,{children:["Target : ",n||"Not Chosen"]})}),(0,l.jsx)(w,{className:"bg-white/10 border-white/10 backdrop-blur-md",children:null!==a?a.map(e=>(0,l.jsx)(N,{value:e,children:e},e)):(0,l.jsx)(l.Fragment,{})})]}),(0,l.jsx)(o._,{children:"Select Features"}),(0,l.jsx)(E,{}),(0,l.jsx)(o._,{children:"Select Aggregator"}),(0,l.jsxs)(g,{disabled:v,value:c?c[0]:"",onValueChange:e=>u([e]),children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10 ",children:(0,l.jsxs)(b,{children:["Aggregator : ",c||"Not Chosen"]})}),(0,l.jsx)(w,{className:"bg-white/10 border-white/10 backdrop-blur-md",children:null!==d?d.map(e=>(0,l.jsx)(N,{value:e,children:e},e)):(0,l.jsx)(l.Fragment,{})})]}),(0,l.jsx)(o._,{children:"Select Frequency"}),(0,l.jsxs)(g,{disabled:v,onValueChange:e=>h(e),children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10 ",children:(0,l.jsxs)(b,{children:["Frequency : ",m?S[m]:"Not Chosen"," "]})}),(0,l.jsxs)(w,{className:"bg-white/10 border-white/10 backdrop-blur-md",children:[(0,l.jsx)(N,{value:"D",children:"Daily"}),(0,l.jsx)(N,{value:"M",children:"Monthly"}),(0,l.jsx)(N,{value:"Q",children:"Quarterly"}),(0,l.jsx)(N,{value:"H",children:"Half-Yearly"}),(0,l.jsx)(N,{value:"Y",children:"Yearly"})]})]}),(0,l.jsx)(o._,{children:"Select Granularity"}),(0,l.jsxs)(g,{disabled:v,onValueChange:e=>x(e),children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10 ",children:(0,l.jsxs)(b,{children:["Granularity : ",y?S[y]:"Not Chosen"," "]})}),(0,l.jsxs)(w,{className:"bg-white/10 border-white/10 backdrop-blur-md",children:[(0,l.jsx)(N,{disabled:"M"===m||"Q"===m||"H"===m||"Y"===m,value:"D",children:"Daily"}),(0,l.jsx)(N,{disabled:"Q"===m||"H"===m||"Y"===m,value:"M",children:"Monthly"}),(0,l.jsx)(N,{disabled:"H"===m||"Y"===m,value:"Q",children:"Quarterly"}),(0,l.jsx)(N,{disabled:"Y"===m,value:"H",children:"Half-Yearly"}),(0,l.jsx)(N,{value:"Y",children:"Yearly"})]})]}),(0,l.jsxs)("div",{className:"flex items-center  gap-2 ",children:[(0,l.jsx)(o._,{className:"",children:"Training Cycles : "}),(0,l.jsx)(i.I,{disabled:v,type:"number",inputMode:"numeric",onChange:e=>t(Math.max(parseInt(e.target.value),1)),className:"w-20 text-center bg-transparent active:bg-white/10 border-white/0 active:border-white/10 font-mono",value:e})]}),(0,l.jsx)(U,{disabled:v,className:" pt-2 pb-3 ",value:[e],onValueChange:e=>t(e[0]),min:1,defaultValue:[20],max:100,step:1})]})},G=()=>{let{targets:e,setTarget:t,target:a,loading:s}=(0,r.O)();return(0,l.jsxs)("div",{children:[(0,l.jsx)(o._,{children:"Select Target"}),(0,l.jsxs)(g,{value:a,onValueChange:e=>t(e),disabled:null===e||s,children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10",children:(0,l.jsx)(b,{children:a?"Selected : ".concat(a):"Select Target"})}),(0,l.jsx)(w,{className:"bg-white/10 border-white/10 backdrop-blur-lg",children:null!==e?e.map(e=>(0,l.jsx)(N,{value:e,children:e},e)):(0,l.jsx)(l.Fragment,{})})]}),(0,l.jsx)(o._,{children:"Select Features"}),(0,l.jsx)("div",{children:(0,l.jsx)(E,{})})]})},H=()=>{let{targets:e,setTarget:t,target:a,loading:s}=(0,r.O)();return(0,l.jsxs)("div",{children:[(0,l.jsx)(o._,{children:"Select Target"}),(0,l.jsxs)(g,{value:a,onValueChange:e=>t(e),disabled:null===e||s,children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10",children:(0,l.jsx)(b,{children:a?"Selected : ".concat(a):"Select Target"})}),(0,l.jsx)(w,{className:"bg-white/10 border-white/10 backdrop-blur-lg",children:null!==e?e.map(e=>(0,l.jsx)(N,{value:e,children:e},e)):(0,l.jsx)(l.Fragment,{})})]}),(0,l.jsx)(o._,{children:"Select Features"}),(0,l.jsx)("div",{children:(0,l.jsx)(E,{})})]})};function Z(){let{stage:e,algorithm:t}=(0,r.O)();return(0,l.jsxs)("div",{className:"border  rounded-md relative transition-all duration-300 p-2  bg-white/10 border-white/10 backdrop-blur-md mt-1",style:{zIndex:3===e?0:-10,opacity:e>=3?"1":"0"},children:[(0,l.jsx)(o._,{children:t}),"Regression"===t&&(0,l.jsx)(H,{}),"Time Series"===t&&(0,l.jsx)(I,{}),"Classification"===t&&(0,l.jsx)(G,{})]})}var B=a(98306);function L(){let{stage:e,setStage:t,setLoading:a,setLoadingPercent:d,setPredictionFile:u,predictionFile:h,analysisSheet:m,loading:f,setPredictionSheet:p,setCurrentSheet:x,algorithm:y,target:v,selectedFeatures:k,trainingFile:C,aggregator:F,selectedUniqueValues:_,setPredictionGraph:O,server:P,endMode:D,algorithmPos:T}=(0,r.O)(),[A,V]=(0,s.useState)(null);async function z(e){let{data:t,file_type:l}=e,r=new FormData;return r.append("data",t),r.append("file_type",l),fetch("".concat(P,"/GetData"),{method:"POST",body:r}).then(e=>e.json()).then(e=>{if(200===e.status)return a(!1),1}).catch(e=>{console.error(e),a(!1)})}async function R(e){let{file:t,algorithm:l,target:r,features:s}=e;if(!await z({data:t,file_type:"Predict"}))return 0;a(!0),d(!0);let n=new FormData;n.append("algorithm",l),n.append("target",r),n.append("features",JSON.stringify(s)),A&&(n.append("model_position",null==A?void 0:A.split("%::%")[1]),n.append("model_probability_flag",null==A?void 0:A.split("%::%")[2])),fetch("".concat(P,"/Predict"),{method:"POST",body:n}).then(e=>e.json()).then(e=>{a(!1),d(!1),p(S(e.Final)),x("Prediction"),c.A.success("Prediction Complete")}).catch(e=>{console.error(e),a(!1)})}async function Y(e){let{predictionFile:t,trainingFile:l,aggregator:r,selectedUniqueValues:s}=e;if(a(!0),d(!0),!v)return;let n=new FormData;n.append("predictionFile",t),n.append("trainingFile",l),n.append("aggregator",JSON.stringify(r)),n.append("features",JSON.stringify(s)),n.append("target",v),await fetch("".concat(P,"/test/"),{method:"POST",body:n}).then(e=>e.json()).then(e=>{if(e.Error){if(1===e.Level)c.A.warning("Level 1 Error Detected, will continue with prediction, CODE : ".concat(e.Errors.join(", ")));else{c.A.error("Error Detected,stopped execution, CODE : ".concat(e.Errors.join(", ")," ")),a(!1);return}}q({predictionFile:t,trainingFile:l})}).catch(e=>{c.A.warning("Level 3 Error Detected, will continue with prediction, CODE : ".concat(e.message)),a(!1)})}async function q(e){let{predictionFile:t,trainingFile:l}=e;a(!0),d(!0);let r=new FormData;r.append("predictionFile",t),r.append("trainingFile",l),await fetch("".concat(P,"/time_series/Predict"),{method:"POST",body:r}).then(e=>e.json()).then(e=>{if(Object.keys(e).includes("Error")){alert("Error With File ".concat(e.Error));return}console.log("Prediction : ",e.Final),console.log("Prediction Converted : ",S(e.Final)),a(!1),d(!1),p(S(e.Final)),x("Prediction"),O(JSON.parse(e.graphs)),c.A.success("Prediction Complete")}).catch(e=>{console.error(e),a(!1)})}return(0,s.useEffect)(()=>{let e=null==m?void 0:m.data.filter(e=>1===e.Rank)[0];e&&V("".concat(e.Rank,"%::%").concat(e.Position,"%::%").concat(e["Probability Flag"]))},[m]),(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsxs)("div",{style:{display:e>=5||"predict"===D&&e>=3?"block":"none"},className:"".concat(5===e?"rounded-b-md":""," transition-all  overflow-hidden duration-300 border-t border-x border-b rounded-t-md p-2 mt-1 bg-white/10 backdrop-blur-md border-white/10 relative z-0"),children:[(0,l.jsx)(o._,{children:"Choose File For Prediction"}),(0,l.jsx)(i.I,{className:"bg-white/10 backdrop-blur-md border-white/10",accept:".xls, .xlsx, .csv",type:"file",disabled:f,onClick:()=>{t(6)},onChange:e=>{let t=e.target.files?e.target.files[0]:null;t&&(u(t),a(!1))}}),"Time Series"===y?(0,l.jsx)(l.Fragment,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o._,{children:"Choose Algorithm Rank to use"}),(0,l.jsxs)(g,{value:A||"Select Rank",disabled:f,onValueChange:e=>{V(e)},children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10 ",children:(0,l.jsx)(b,{children:A?A.split("%::%")[0]:"Select Rank"})}),(0,l.jsx)(w,{className:"bg-white/10 border-white/10 backdrop-blur-md h-64",children:null==T?void 0:T.data.map(e=>(0,l.jsx)(N,{value:"".concat(e["Algorithm Name"],"%::%").concat(e.Position,"%::%").concat(e["Probability Flag"]),children:e["Algorithm Name"]},e.Position))})]})]}),(0,l.jsx)(n.z,{onClick:()=>{console.log("processing"),"Time Series"===y?null!==h&&null!==C&&Y({predictionFile:h,trainingFile:C,aggregator:F,selectedUniqueValues:_}):null!==h&&R({algorithm:y,target:v,features:k,file:h})},disabled:!h||f,className:"w-full mt-2",children:"Predict File"})]})]})}function J(){let{stage:e,setStage:t,collapsed:a,setCollapsed:i,target:d,selectedFeatures:u,setCorrelation1Sheet:h,setCorrelation2Sheet:m,setLoading:f,setCurrentSheet:p,setUniqueValues:x,uniqueValues:y,algorithm:v,setLoadingPercent:k,setAnalysisSheet:C,loading:F,trainingFile:_,correlation1Sheet:O,frequency:P,aggregator:D,percentageAccuracy:T,server:A,setIncludedColsDfDisplay:V,endMode:z,setEndMode:R}=(0,r.O)(),[Y,q]=(0,s.useState)(!1);function E(e){let{attr:t,value:a}=e,l=new FormData;return l.append("value",JSON.stringify(a)),f(!0),fetch("".concat(A,"/SetValue?attr=").concat(t),{method:"POST",body:l}).then(()=>{f(!1)}).catch(e=>{console.error(e),f(!1)})}let M=()=>{console.log("trainign"),f(!0),k(!0);let e=new FormData;e.append("target",d),e.append("selectedFeatures",JSON.stringify(u)),e.append("problem_type",v),fetch("".concat(A,"/Train"),{method:"POST",body:e}).then(e=>e.json()).then(e=>{V(e.cols_to_display),C(S(e.model_result)),t(5),p("Analysis"),c.A.success("Training Completed"),k(!1),f(!1)}).catch(e=>{console.error(e),f(!1)})},U=()=>{q(!1),"Time Series"!==v?M():(t(4),f(!1))};return"Time Series"===v?(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)("div",{style:{opacity:e>=3?"1":"0",pointerEvents:e>=3?"auto":"none",height:e>=3?"auto":"0"},className:" px-2 pb-2 bg-black/10 rounded-md backdrop-blur-md border border-white/10 mt-1",children:(0,l.jsx)(n.z,{disabled:null===d||0===u.length||null!==O||F,onClick:()=>{if(!u)return;let e=new FormData;e.append("features",JSON.stringify(u)),fetch("".concat(A,"/Set_Features_Data"),{method:"POST",body:e}).then(()=>{fetch("".concat(A,"/Get_Unique_Values")).then(e=>e.json()).then(e=>{console.log(JSON.parse(e.unique)),x(JSON.parse(e.unique)),t(4)}).catch(e=>{console.error(e),f(!1)}).catch(e=>{console.error(e),f(!1)})})},className:"mt-2 w-full transition-all duration-300",children:"Evaluate Time-series data"})})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{style:{opacity:e>=3?"1":"0",pointerEvents:e>=3?"auto":"none",height:e>=3?"auto":"0"},className:" px-2 pb-2 bg-black/10 rounded-md backdrop-blur-md border border-white/10 mt-1",children:[(0,l.jsx)(n.z,{disabled:null===d||0===u.length||null!==O||F,onClick:()=>{let e=new FormData;e.append("target",d),e.append("features",JSON.stringify(u)),fetch("".concat(A,"/SetOptions"),{method:"POST",body:e}).then(e=>e.json()).then(e=>{h(S(e.c1)),m(S(e.c2)),p("Correlation1"),f(!1),q(!0),c.A.success("Successfully Processed Correlation")}).catch(e=>{console.error(e),f(!1)})},className:"mt-2 mb-1 w-full transition-all duration-300",children:"Process Correlation"}),(0,l.jsx)(o._,{children:"Mode"}),(0,l.jsxs)(g,{onValueChange:e=>{R(e)},value:z,children:[(0,l.jsx)(j,{className:"w-full bg-white/10 border-white/10  ",children:(0,l.jsx)(b,{children:"predict"===z?"Predict Only":"Train & Predict"})}),(0,l.jsxs)(w,{className:"bg-white/10 border-white/10 backdrop-blur-md",children:[(0,l.jsx)(N,{value:"train&predict",children:"Train & Predict"}),(0,l.jsx)(N,{value:"predict",children:"Predict Only"})]})]}),"train&predict"===z&&(0,l.jsx)(n.z,{disabled:!Y||null===d||0===u.length||F,onClick:()=>{console.log("rtest"),f(!0),E({attr:"algorithm",value:v}).then(()=>{E({attr:"target",value:d}).then(()=>{E({attr:"feature_list",value:u}).then(()=>{U()})})})},className:"mt-2 w-full transition-all duration-300",children:"Train"})]})})}var Q=function(){let{collapsed:e,setCollapsed:t}=(0,r.O)();return(0,l.jsxs)("div",{className:" scrollbar-thumb-neutral-200/50 scrollbar-thumb-rounded-full  scrollbar-track-transparent scrollbar-thin  w-64 relative transition-all duration-500  max-h-[calc(100vh-70px-16px)] overflow-y-scroll pb-4 pr-0.5",style:{translate:e?"-240px 0px":"0px 0px"},children:[(0,l.jsx)("button",{type:"button",onClick:()=>t(!e),className:"p-2 absolute top-0 right-0 z-50 cursor-pointer group",children:(0,l.jsx)(B.Z,{style:{rotate:e?"180deg":"0deg"},className:" h-5 group-hover:rotate-180  transition-all group-hover:text-indigo-400"})}),(0,l.jsx)(u,{}),(0,l.jsx)(k,{}),(0,l.jsx)(Z,{}),(0,l.jsx)(J,{}),(0,l.jsx)(L,{}),(0,l.jsx)("div",{className:"h-12"})]})},$=a(65687);let W=$.fC;$.xz;let K=$.h_,X=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)($.aV,{className:(0,x.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});X.displayName=$.aV.displayName;let ee=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsxs)(K,{children:[(0,l.jsx)(X,{}),(0,l.jsx)($.VY,{ref:t,className:(0,x.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});ee.displayName=$.VY.displayName;let et=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,x.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};et.displayName="AlertDialogHeader";let ea=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,x.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};ea.displayName="AlertDialogFooter";let el=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)($.Dx,{ref:t,className:(0,x.cn)("text-lg font-semibold",a),...r})});el.displayName=$.Dx.displayName;let er=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)($.dk,{ref:t,className:(0,x.cn)("text-sm text-muted-foreground",a),...r})});er.displayName=$.dk.displayName;let es=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)($.aU,{ref:t,className:(0,x.cn)((0,n.d)(),a),...r})});es.displayName=$.aU.displayName;let en=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)($.$j,{ref:t,className:(0,x.cn)((0,n.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});function ei(e){let{attr:t}=e,{targets:a,target:s,setSelectedFeatures:i,selectedFeatures:o,setCorrelation1Sheet:d,setCorrelation2Sheet:c,setCurrentSheet:u,setAnalysisSheet:h,setPredictionSheet:m,selectedUniqueValues:f,setSelectedUniqueValues:g,uniqueValues:b,removeSelectedUniqueValues:j}=(0,r.O)();return(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)(R,{children:[(0,l.jsx)(Y,{asChild:!0,className:"w-full bg-white/10 border-white/10 hover:bg-sky-100/20",children:(0,l.jsx)(n.z,{className:"w-full  text-left  justify-start overflow-clip text-ellipsis",variant:"outline",children:f[t]&&f[t].length>0?f[t].length>5?"".concat(f[t].length," features selected"):f[t].join(", "):"No Items Selected"})}),(0,l.jsx)(q,{className:"w-56 bg-transparent border-none p-0.5",children:(0,l.jsxs)(O,{className:" bg-white/10 border-white/10 border backdrop-blur-xl ",children:[(0,l.jsx)(P,{className:"",placeholder:"Search..."}),(0,l.jsxs)(D,{className:"",children:[(0,l.jsx)(T,{children:"No results found."}),(0,l.jsx)(A,{heading:"Features",children:b[t].map(e=>{let a=!!f[t]&&f[t].includes(e);return(0,l.jsxs)(V,{onSelect:()=>{console.log(t,e),a?j(t,e):g(t,e)},children:[(0,l.jsx)(p.Z,{className:(0,x.cn)("mr-2 h-4 w-4",a?"opacity-100":"opacity-0")}),e]},e)})})]})]})})]})})}function eo(){let{stage:e,setStage:t,collapsed:a,uniqueValues:i,setSelectedUniqueValues:d,setAnalysisSheet:u,setCurrentSheet:h,selectedUniqueValues:m,target:f,selectedFeatures:p,algorithm:x,setLoading:g,aggregator:b,trainingFile:j,frequency:y,setAnalysisGraphs:v,granularity:w,epochs:N,setModelAnalysisSheets:k,server:C}=(0,r.O)(),[F,_]=(0,s.useState)(!1),O=async()=>{if(g(!0),t(5),"NO"===F||!f||!p||!j||!y||!b||!m||!w){c.A.message("Cancelled Building"),g(!1);return}c.A.message("Building Model");let e=new FormData;e.append("target",f),e.append("features",JSON.stringify(p)),e.append("frequency",y),e.append("granularity",w),e.append("agg_date",JSON.stringify(b)),e.append("uniqueValues",JSON.stringify(m)),e.append("file",j),e.append("epochs",N.toString());try{let t=await fetch("".concat(C,"/time_series/start"),{method:"POST",body:e}),a=await t.json();console.log(a.graphs_df),k(S(a.graphs_df)),u(S(a.EVAL)),v(JSON.parse(a.graphs)),g(!1),h("Analysis"),c.A.success("Model/s Built")}catch(e){console.error(e)}};return(0,s.useEffect)(()=>{Object.keys(i).map(e=>{d(e,i[e][0])})},[d,i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(W,{open:!0===F,children:(0,l.jsxs)(ee,{children:[(0,l.jsxs)(et,{children:[(0,l.jsx)(el,{children:"Are you absolutely sure?"}),(0,l.jsxs)(er,{children:["This will train on"," ",Object.values(m).reduce((e,t)=>e*t.length,1)," ","combinations"]})]}),(0,l.jsxs)(ea,{children:[(0,l.jsx)(en,{onClick:()=>_("NO"),children:"Cancel"}),(0,l.jsx)(es,{onClick:()=>{O(),_("YES")},children:"Continue"})]})]})}),(0,l.jsxs)("div",{className:"border bg-white/10 backdrop-blur-md border-white/10 absolute top-0 right-0 transition-all duration-300   -mx-2 rounded-md w-64 p-2    ",style:{zIndex:4!==e||a||"Time Series"!==x?-10:0,opacity:4!==e||a||"Time Series"!==x?"0":"1",pointerEvents:4!==e||a||"Time Series"!==x?"none":"all",translate:4!==e||a||"Time Series"!==x?"0%":"94%"},children:[Object.keys(i).map(e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o._,{children:e}),(0,l.jsx)(ei,{attr:e})]})),(0,l.jsx)(n.z,{disabled:Object.values(m).some(e=>0===e.length),onClick:()=>{if(2>Object.values(m).reduce((e,t)=>e*t.length,1)){O();return}_(!0)},className:"w-full mt-2",children:"Build Model"})]})]})}en.displayName=$.$j.displayName;var ed=a(93019),ec=a(54272),eu=a(86054),eh=a(16563),em=a(64848);function ef(e){let{data:t,name:a,className:r,show_cols:s}=e,{theme:n}=(0,em.F)();if(console.log("data",t),null===t)return(0,l.jsx)(l.Fragment,{});t.data.map((e,t)=>"id"in e?e:{...e,id:t});let i=s&&0!==s.length?t.data.map(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return s.includes(t)}))):t.data,o=s&&0!==s.length?t.headers.filter(e=>s.includes(e.field)):t.headers;return(console.log(s),Object.keys((t={data:i.map((e,t)=>({...e,id:"id"in e?e.id:t})),headers:o}).data[0]).includes("id"))?(0,l.jsx)("div",{className:(0,x.cn)("h-[calc(100vh-9rem)] relative",r),children:(0,l.jsx)(eu._,{rowHeight:24,style:{backdropFilter:"blur(10px)",color:"dark"===n?"white":"black",borderColor:"dark"===n?"#555":"#777"},sx:{"*":{transition:"backgroundColor",transitionDuration:500,color:"dark"===n?"white":"black"},".MuiDataGrid-topContainer":{backgroundColor:"#9DD9FF55"},".Mui-even":{backgroundColor:"dark"===n?"#00131F":"#9DD9FF55",filter:"saturate(120%)"},".Mui-even:hover":{backgroundColor:"dark"===n?"#00131F":"#9DD9FF88"},".MuiDataGrid-columnHeaders, .MuiDataGrid-toolbarContainer":{backgroundColor:"dark"===n?"#001105":"#00A934"},".MuiDataGrid-columnHeaders":{backgroundColor:"#9DD9FF55",borderBottom:"dark"===n?"1px dotted white":"1px dotted black",borderRadius:"0"},".NA_Val:after":{content:'"N/A"'}},getCellClassName:e=>null==e.value?"NA_Val":"",getRowClassName:e=>e.indexRelativeToCurrentPage%2==0?"Mui-even":"Mui-odd",slotProps:{cell:{showRightBorder:!0,style:{borderColor:"#444"}}},slots:{columnMenu:ep},columns:t.headers,rows:t.data})}):(console.log("data",t={data:i.map((e,t)=>(e.id=t,e)),headers:o}),(0,l.jsx)(l.Fragment,{children:"No ID"}))}function ep(e){let{hideMenu:t,colDef:a,color:r,...s}=e,{theme:n}=(0,em.F)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(ec.Z,{sx:{svg:{color:"dark"===n?"#f0f0f066":"#0f0f0f"}},children:(0,l.jsx)(eh.hh,{className:"dark:bg-neutral-900 dark:text-white [svg]:[color:'white']",hideMenu:t,colDef:a,...s})})})}var ex=a(99497),eg=a(45987),eb=a(99823),ej=a(35971),ey=a.n(ej),ev=a(74688),ew=a(49108),eN=a(37805);function eS(e){let{chardData:t,className:a}=e,r=(0,s.useRef)(null),[i,o]=(0,s.useState)(0);return(0,s.useEffect)(()=>{console.log(t)},[t]),(0,l.jsxs)("div",{className:(0,x.cn)(a," h-[26rem] p-2 bg-white rounded-t-md border relative "),children:[(0,l.jsx)("div",{className:"bg-white ",style:{height:"100%",width:"100%"},ref:r,children:(0,l.jsx)(ev.fH,{data:t[i].map(e=>({id:e.label,data:e.y.map((t,a)=>{let l=new Date(e.x[a]);return{x:"".concat(l.getFullYear(),"-").concat((l.getMonth()+1).toString().padStart(2,"0"),"-").concat(l.getDate().toString().padStart(2,"0")),y:t}})})),legends:[{anchor:"top-right",direction:"column",justify:!1,translateX:-10,translateY:0,itemWidth:120,itemHeight:20,itemsSpacing:4,symbolSize:10,symbolShape:"circle",itemDirection:"left-to-right",itemTextColor:"#777",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],useMesh:!0,enableArea:!0,enablePoints:!0,isInteractive:!0,margin:{top:10,right:20,bottom:100,left:40},xScale:{type:"time",format:"%Y-%m-%d",useUTC:!1,precision:"day"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",min:0,max:"auto"},colors:["#FF204E","#007F73","#6420AA","#1D2B53","#211951","#B6FFFA","#F8FF95","#F94C10"],crosshairType:"cross",axisBottom:{tickRotation:-45,tickSize:0,tickPadding:16,format:"%b %d %y",legendOffset:-12},axisLeft:{tickSize:0,tickValues:5,tickPadding:16},theme:{tooltip:{chip:{borderRadius:"9999px"},container:{fontSize:"12px",textTransform:"capitalize",borderRadius:"6px"}},grid:{line:{stroke:"#f3f4f622"}}}})}),(0,l.jsxs)("div",{className:" absolute  left-0 right-0  mt-3 w-full  rounded-b-md bg-white p-4 border flex items-center justify-between",children:[(0,l.jsx)(n.z,{variant:"ghost",onClick:async()=>{if(!r.current)return;let e=await (0,eb.YM)(r.current,{quality:100});ey()(e,"chart.png")},children:"Download Chart"}),(0,l.jsxs)("div",{className:" flex gap-4 items-center  ",children:[(0,l.jsxs)("div",{className:"text-sm",children:[" ",t[i][0].values]}),(0,l.jsxs)("div",{className:"text-sm",children:[i+1," of ",t.length]}),(0,l.jsx)(n.z,{onClick:()=>o(e=>Math.max((e-1)%t.length,0)),variant:"secondary",children:(0,l.jsx)(ew.Z,{className:"w-6"})}),(0,l.jsx)(n.z,{onClick:()=>o(e=>(e+1)%t.length),variant:"secondary",children:(0,l.jsx)(eN.Z,{className:"w-6"})})]})]})]})}var ek=a(86969);let eC=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(ek.fC,{ref:t,className:(0,x.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,l.jsx)(ek.z$,{className:(0,x.cn)("flex items-center justify-center text-current"),children:(0,l.jsx)(p.Z,{className:"h-4 w-4"})})})});function eF(){let{trainingFile:e,originalSheet:t,correlation1Sheet:a,correlation2Sheet:i,analysisSheet:o,predictionSheet:c,predictionFile:u,target:h,selectedFeatures:m,setCorrelation1Sheet:f,setLoading:p,currentSheet:x,setCurrentSheet:g,algorithm:b,analysisGraphs:j,predictionGraph:y,modelAnalysisSheets:v,server:w,includedColsDfDisplay:N}=(0,r.O)();(0,s.useEffect)(()=>{console.log(o)},[o]);let[S,k]=(0,s.useState)(!0),[C,F]=(0,s.useState)(!0),[O,P]=(0,s.useState)(!0),[D,T]=(0,s.useState)(!0),[A,V]=(0,s.useState)(!0),[z,R]=(0,s.useState)(!0);function Y(e){return e.data.map(e=>(!1===e.hadID&&(delete e.id,delete e.hadID),e))}return(0,l.jsxs)("div",{className:" relative",children:["Time Series"===b?(0,l.jsxs)(ex.mQ,{defaultValue:"Original",value:x,onValueChange:e=>g(e),className:"w-full",children:[(0,l.jsxs)(ex.dr,{className:"bg-white/10 text-black/50  backdrop-blur-md border border-white/10",children:[(0,l.jsx)(ex.SP,{value:"Original",children:"Original"}),(0,l.jsx)(ex.SP,{value:"Analysis",disabled:null===o,children:"Analysis"}),(0,l.jsx)(ex.SP,{disabled:null===u,value:"Prediction",children:"Prediction"})]}),(0,l.jsx)(ex.nU,{value:"Original",children:e&&(0,l.jsx)(ef,{data:t,name:"original"})}),(0,l.jsx)(ex.nU,{value:"Correlation1",children:a?(0,l.jsx)(ef,{data:a,name:"correlation1"}):(0,l.jsx)("div",{})}),(0,l.jsxs)(ex.nU,{value:"Correlation2",children:[i?(0,l.jsx)(ef,{data:i,name:"correlation2"}):(0,l.jsx)("div",{})," "]}),(0,l.jsxs)(ex.nU,{className:"flex gap-2 w-full  h-full",value:"Analysis",children:[o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ef,{className:"w-1/2",data:o,name:"analysis"}),(0,l.jsx)(eS,{className:"w-2/3 h-full min-h-96",chardData:j})]}):(0,l.jsx)("div",{})," "]}),(0,l.jsx)(ex.nU,{className:"flex gap-2 w-full  h-full",value:"Prediction",children:c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ef,{className:"w-1/2",data:c,name:"prediction"}),(0,l.jsx)(eS,{className:"w-2/3 h-full min-h-96",chardData:y})]}):(0,l.jsx)("div",{})})]}):(0,l.jsxs)(ex.mQ,{defaultValue:"Original",value:x,onValueChange:e=>g(e),className:"w-full",children:[(0,l.jsxs)(ex.dr,{className:"bg-white/10 text-black/50  backdrop-blur-md border border-white/10",children:[(0,l.jsx)(ex.SP,{value:"Original",children:"Original"}),(0,l.jsx)(ex.SP,{value:"Correlation1",disabled:null===a,children:"Correlation 1"}),(0,l.jsx)(ex.SP,{value:"Correlation2",disabled:null===i,children:"Correlation 2"}),(0,l.jsx)(ex.SP,{value:"Analysis",disabled:null===o,children:"Analysis"}),(0,l.jsx)(ex.SP,{disabled:null===u,value:"Prediction",children:"Prediction"})]}),(0,l.jsx)(ex.nU,{value:"Original",children:e&&(0,l.jsx)(ef,{data:t,name:"original"})}),(0,l.jsx)(ex.nU,{value:"Correlation1",children:a?(0,l.jsx)(ef,{data:a,name:"correlation1"}):(0,l.jsx)("div",{})}),(0,l.jsxs)(ex.nU,{value:"Correlation2",children:[i?(0,l.jsx)(ef,{data:i,name:"correlation1"}):(0,l.jsx)("div",{})," "]}),(0,l.jsxs)(ex.nU,{value:"Analysis",children:[o?(0,l.jsx)(ef,{show_cols:N,data:o,name:"correlation1"}):(0,l.jsx)("div",{})," "]}),(0,l.jsx)(ex.nU,{value:"Prediction",children:c?(0,l.jsx)(ef,{data:c,name:"correlation1"}):(0,l.jsx)("div",{})})]}),(0,l.jsx)("div",{className:" absolute top-0 right-0",children:(0,l.jsxs)(_.Vq,{children:[(0,l.jsx)(_.hg,{asChild:!0,children:(0,l.jsxs)(n.z,{className:"gap-2",disabled:null===t,children:[(0,l.jsx)(eg.yH,{}),"Download"]})}),(0,l.jsxs)(_.cZ,{className:"flex flex-col",children:[(0,l.jsxs)(_.fK,{children:[(0,l.jsx)(_.$N,{children:"Download"}),(0,l.jsx)(_.Be,{children:"Select The Tables You want in your xlsx file"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"items-top flex space-x-2",children:[(0,l.jsx)(eC,{onCheckedChange:k,checked:S}),(0,l.jsx)("div",{className:"grid gap-1.5 leading-none",children:(0,l.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Original Sheet"})})]}),"Time Series"!==b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"items-top flex space-x-2 mt-4",children:[(0,l.jsx)(eC,{onCheckedChange:F,checked:C}),(0,l.jsx)("div",{className:"grid gap-1.5 leading-none",children:(0,l.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Correlation 1"})})]}),(0,l.jsxs)("div",{className:"items-top flex space-x-2 mt-4",children:[(0,l.jsx)(eC,{onCheckedChange:P,checked:O}),(0,l.jsx)("div",{className:"grid gap-1.5 leading-none",children:(0,l.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Correlation 2"})})]})]}),(0,l.jsxs)("div",{className:"items-top flex space-x-2 mt-4",children:[(0,l.jsx)(eC,{onCheckedChange:T,checked:D}),(0,l.jsx)("div",{className:"grid gap-1.5 leading-none",children:(0,l.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Analysis Sheet"})})]}),"Time Series"===b&&(0,l.jsxs)("div",{className:"items-top flex space-x-2 mt-4",children:[(0,l.jsx)(eC,{onCheckedChange:V,checked:A}),(0,l.jsx)("div",{className:"grid gap-1.5 leading-none",children:(0,l.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Model Graph Analysis Sheet"})})]}),(0,l.jsxs)("div",{className:"items-top flex space-x-2 mt-4",children:[(0,l.jsx)(eC,{onCheckedChange:R,checked:z}),(0,l.jsx)("div",{className:"grid gap-1.5 leading-none",children:(0,l.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Prediction Sheet"})})]})]}),(0,l.jsx)(_.GG,{asChild:!0,children:(0,l.jsxs)(n.z,{type:"button",onClick:function(){let e=d.P6.book_new();if(S){let a={...t};if(null!==a){let t=d.P6.json_to_sheet(Y(a));d.P6.book_append_sheet(e,t,"Original")}}if("Time Series"!==b){if(C){let t={...a};if(null!==t){let a=d.P6.json_to_sheet(Y(t));d.P6.book_append_sheet(e,a,"Target-to-features Co-relation")}}if(O){let t={...i};if(null!==t){let a=d.P6.json_to_sheet(Y(t));d.P6.book_append_sheet(e,a,"Inter-Features Co-relation")}}}if("Time Series"===b&&A&&v){let t={...v},a=d.P6.json_to_sheet(Y(t));d.P6.book_append_sheet(e,a,"Graphic Analysis")}if(D){let t={...o};if(null!==t){let a=d.P6.json_to_sheet(Y(t));d.P6.book_append_sheet(e,a,"Result")}}if(z){let t={...c};if(null!==t){let a=d.P6.json_to_sheet(Y(t));d.P6.book_append_sheet(e,a,"Prediction")}}d.NC(e,"Output.xlsx",{compression:!0})},className:" mt-3 flex gap-3",children:["Confirm And Download ",(0,l.jsx)(ed.Z,{})]})})]})]})})]})}eC.displayName=ek.fC.displayName;var e_=a(47907);function eO(){let e=(0,e_.useSearchParams)(),{collapsed:t,setSessionID:a,stage:n}=(0,r.O)();return(0,s.useEffect)(()=>{let t=e.get("SessionID");null!==t&&a(t)},[e,a]),(0,l.jsxs)("main",{className:" h-full overflow-hidden px-4 pt-4 ",children:[(0,l.jsx)("div",{className:"fixed top-20 left-72 z-50",children:(0,l.jsx)(eo,{})}),(0,l.jsx)("div",{className:"fixed",children:(0,l.jsx)(Q,{})}),(0,l.jsx)("div",{style:{marginLeft:t?"20px":4===n?"calc(32.5rem + 8px)":"calc(16rem + 8px)",paddingLeft:""},className:" transition-all duration-500  ",children:(0,l.jsx)(eF,{})})]})}},6235:function(e,t,a){"use strict";a.d(t,{O:function(){return l}});let l=(0,a(22020).Ue)(e=>({includedColsDfDisplay:[],setIncludedColsDfDisplay:t=>e({includedColsDfDisplay:t}),server:"http://localhost:5000/",setServer:t=>e({server:t}),epochs:20,setEpochs:t=>e({epochs:t}),analysisGraphs:null,setAnalysisGraphs:t=>e({analysisGraphs:t}),predictionGraph:null,setPredictionGraph:t=>e({predictionGraph:t}),trainingFile:null,setTrainingFile:t=>e({trainingFile:t}),predictionFile:null,setPredictionFile:t=>e({predictionFile:t}),loading:!1,setLoading:t=>e({loading:t}),loadingPercent:!1,setLoadingPercent:t=>e({loadingPercent:t}),algorithm:null,setAlgorithm:t=>e({algorithm:t}),processed:!1,setProcessed:t=>e({processed:t}),stage:1,setStage:t=>e({stage:t}),targets:[""],setTargets:t=>e({targets:t}),aggregates:[],setAggregates:t=>e({aggregates:t}),target:null,setTarget:t=>e({target:t}),selectedFeatures:[],setSelectedFeatures:t=>e({selectedFeatures:t}),aggregator:null,setAggregator:t=>e({aggregator:t}),frequency:null,setFrequency:t=>e({frequency:t}),granularity:null,setGranularity:t=>e({granularity:t}),percentageAccuracy:null,setPercentageAccuracy:t=>e({percentageAccuracy:t}),collapsed:!1,setCollapsed:t=>e({collapsed:t}),currentSheet:"Original",setCurrentSheet:t=>e({currentSheet:t}),originalSheet:null,setOriginalSheet:t=>e({originalSheet:t}),correlation1Sheet:null,setCorrelation1Sheet:t=>e({correlation1Sheet:t}),correlation2Sheet:null,setCorrelation2Sheet:t=>e({correlation2Sheet:t}),analysisSheet:null,setAnalysisSheet:t=>e({analysisSheet:t}),modelAnalysisSheets:null,setModelAnalysisSheets:t=>e({modelAnalysisSheets:t}),predictionSheet:null,setPredictionSheet:t=>e({predictionSheet:t}),endMode:"train&predict",setEndMode:t=>e({endMode:t}),algorithmPos:null,setAlgorithmPos:t=>e({algorithmPos:t}),sessionID:null,setSessionID:t=>e({sessionID:t}),uniqueValues:{},setUniqueValues:t=>e({uniqueValues:t}),selectedUniqueValues:{},setSelectedUniqueValues:(t,a)=>e(e=>{let l=Object.keys(e.selectedUniqueValues).includes(t)?Array.from(new Set([...e.selectedUniqueValues[t],a])):[a];return{selectedUniqueValues:{...e.selectedUniqueValues,[t]:l}}}),removeSelectedUniqueValues:(t,a)=>e(e=>{if(Object.keys(e.selectedUniqueValues).includes(t)){let l=e.selectedUniqueValues[t].filter(e=>e!==a);return{selectedUniqueValues:{...e.selectedUniqueValues,[t]:l}}}return e})}))},45987:function(e,t,a){"use strict";a.d(t,{KU:function(){return s},yH:function(){return r}});var l=a(57437);function r(e){return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,l.jsx)("title",{children:"Download Button"}),(0,l.jsx)("path",{fill:"currentColor",d:"M12 15.575q-.2 0-.375-.062T11.3 15.3l-3.6-3.6q-.3-.3-.288-.7t.288-.7q.3-.3.713-.312t.712.287L11 12.15V5q0-.425.288-.712T12 4q.425 0 .713.288T13 5v7.15l1.875-1.875q.3-.3.713-.288t.712.313q.275.3.288.7t-.288.7l-3.6 3.6q-.15.15-.325.213t-.375.062M6 20q-.825 0-1.412-.587T4 18v-2q0-.425.288-.712T5 15q.425 0 .713.288T6 16v2h12v-2q0-.425.288-.712T19 15q.425 0 .713.288T20 16v2q0 .825-.587 1.413T18 20z"})]})}function s(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",...e,children:(0,l.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M41.5 10h-6m-8-4v8m0-4h-22m8 14h-8m16-4v8m22-4h-22m20 14h-6m-8-4v8m0-4h-22"})})}},575:function(e,t,a){"use strict";a.d(t,{d:function(){return o},z:function(){return d}});var l=a(57437),r=a(2265),s=a(59143),n=a(57742),i=a(22169);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,l.jsx)(u,{className:(0,i.cn)(o({variant:r,size:n,className:a})),ref:t,...c})});d.displayName="Button"},9208:function(e,t,a){"use strict";a.d(t,{$N:function(){return p},Be:function(){return x},GG:function(){return u},Vq:function(){return o},cZ:function(){return m},fK:function(){return f},hg:function(){return d}});var l=a(57437),r=a(2265),s=a(72936),n=a(52235),i=a(22169);let o=s.fC,d=s.xz,c=s.h_,u=s.x8,h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});h.displayName=s.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(h,{}),(0,l.jsxs)(s.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,l.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(n.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=s.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=s.Dx.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});x.displayName=s.dk.displayName},22782:function(e,t,a){"use strict";a.d(t,{I:function(){return n}});var l=a(57437),r=a(2265),s=a(22169);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,l.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});n.displayName="Input"},12647:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var l=a(57437),r=a(2265),s=a(24602),n=a(57742),i=a(22169);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.f,{ref:t,className:(0,i.cn)(o(),a),...r})});d.displayName=s.f.displayName},99497:function(e,t,a){"use strict";a.d(t,{SP:function(){return d},dr:function(){return o},mQ:function(){return i},nU:function(){return c}});var l=a(57437),r=a(2265),s=a(31552),n=a(22169);let i=s.fC,o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.aV,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});o.displayName=s.aV.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=s.xz.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,l.jsx)(s.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});c.displayName=s.VY.displayName},22169:function(e,t,a){"use strict";a.d(t,{cn:function(){return s},k:function(){return n}});var l=a(75504),r=a(51367);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,l.W)(t))}function n(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16))}}},function(e){e.O(0,[425,7,139,34,338,2,971,69,744],function(){return e(e.s=51096)}),_N_E=e.O()}]);